<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/base :: layout(~{::title}, ~{::div.content})}">
<head>
    <title th:text="${isEdit} ? 'Edit Activity' : 'Create New Activity'"></title>
</head>
<div class="content">
    <div class="form-header">
        <h1 th:text="${isEdit} ? '‚úèÔ∏è Edit Activity' : '‚ûï Create New Activity'">Activity Form</h1>
        <p class="subtitle" th:text="${isEdit} ? 'Update activity details below' : 'Define a new available activity'"></p>
    </div>
    
    <div class="form-container">
        <form th:action="${isEdit} ? @{/activities/update/{id}(id=${activityId})} : @{/activities/create}"
              th:object="${activityData}"
              method="POST"
              class="modern-form">
            
            <input th:if="${isEdit}" type="hidden" name="_method" value="POST" />

            <div class="form-section">
                <h3 class="section-title">üìù Basic Details</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="activityName">Activity Name <span class="required">*</span></label>
                        <input type="text" id="activityName" th:field="*{activityName}" class="form-control" required/>
                    </div>
                    <div class="form-group">
                        <label for="activityType">Activity Type <span class="required">*</span></label>
                        <select id="activityType" th:field="*{activityType}" class="form-control" required>
                            <option value="">-- Select Type --</option>
                            <option th:each="type : ${activityTypes}" th:value="${type}" th:text="${type}"></option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="activityItem">Activity Item / Description</label>
                    <input type="text" id="activityItem" th:field="*{activityItem}" class="form-control" placeholder="e.g., Tiket Garuda Business Class / Standard Double Room"/>
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">üí≤ Capacity & Pricing</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="capacity">Capacity (Available Slots) <span class="required">*</span></label>
                        <input type="number" id="capacity" th:field="*{capacity}" class="form-control" required min="1"/>
                    </div>
                    <div class="form-group">
                        <label for="price">Unit Price (IDR) <span class="required">*</span></label>
                        <input type="number" id="price" th:field="*{price}" class="form-control" required min="0"/>
                    </div>
                </div>
            </div>
            
            <div class="form-section">
                <h3 class="section-title">üìç Schedule & Location</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="startDate">Start Date & Time <span class="required">*</span></label>
                        <input type="datetime-local" id="startDate" th:field="*{startDate}" class="form-control" required/>
                    </div>
                    <div class="form-group">
                        <label for="endDate">End Date & Time <span class="required">*</span></label>
                        <input type="datetime-local" id="endDate" th:field="*{endDate}" class="form-control" required/>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="startLocation">Start Location <span class="required">*</span></label>
                        <input type="text" id="startLocation" th:field="*{startLocation}" class="form-control" required placeholder="e.g., Jakarta (CGK)"/>
                    </div>
                    <div class="form-group">
                        <label for="endLocation">End Location <span class="required">*</span></label>
                        <input type="text" id="endLocation" th:field="*{endLocation}" class="form-control" required placeholder="e.g., Bali (DPS)"/>
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <a th:href="@{/activities}" class="btn btn-secondary">‚ùå Cancel</a>
                <button type="submit" class="btn btn-primary" th:text="${isEdit} ? 'üíæ Update Activity' : '‚ú® Create Activity'"></button>
            </div>
        </form>
    </div>
    <style>
        .form-header { text-align: center; margin-bottom: 40px; }
        .form-header h1 { font-size: 2.5em; font-weight: 800; color: var(--text-dark); margin-bottom: 10px; }
        .subtitle { color: var(--text-muted); font-size: 1.1em; margin-top: 10px; }
        .form-container { background: linear-gradient(135deg, #fff8f5, #ffe5d9); padding: 45px; border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); max-width: 900px; margin: 0 auto; }
        .modern-form { background: white; padding: 40px; border-radius: var(--radius-md); box-shadow: var(--shadow-sm); }
        .form-section { margin-bottom: 35px; padding-bottom: 35px; border-bottom: 2px solid var(--peach-light); }
        .form-section:last-of-type { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
        .section-title { font-size: 1.3em; color: var(--coral-primary); margin-bottom: 25px; font-weight: 700; }
        .form-row { display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; }
        .form-actions { display: flex; justify-content: flex-end; gap: 15px; margin-top: 40px; padding-top: 30px; border-top: 2px solid var(--peach-light); }
        @media (max-width: 768px) { .form-row { grid-template-columns: 1fr; } }
    </style>
</div>